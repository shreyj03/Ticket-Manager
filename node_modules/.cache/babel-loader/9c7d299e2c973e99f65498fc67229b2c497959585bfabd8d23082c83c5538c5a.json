{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useSelector } from 'react-redux';\nimport { selectCurrentToken } from \"../features/auth/authSlice\";\nimport { jwtDecode } from 'jwt-decode';\nconst useAuth = () => {\n  _s();\n  const token = useSelector(selectCurrentToken);\n  let isManager = false;\n  let isAdmin = false;\n  let status = \"Employee\";\n  if (token) {\n    const decoded = jwtDecode(token);\n    const {\n      username,\n      roles\n    } = decoded.UserInfo;\n    isManager = roles.includes('Manager');\n    isAdmin = roles.includes('Admin');\n    if (isManager) status = \"Manager\";\n    if (isAdmin) status = \"Admin\";\n    return {\n      username,\n      roles,\n      status,\n      isManager,\n      isAdmin\n    };\n  }\n  return {\n    username: '',\n    roles: [],\n    isManager,\n    isAdmin,\n    status\n  };\n};\n_s(useAuth, \"bD5+gKbiITcJRDYAIJK4ZSEgato=\", false, function () {\n  return [useSelector];\n});\nexport default useAuth;","map":{"version":3,"names":["useSelector","selectCurrentToken","jwtDecode","useAuth","_s","token","isManager","isAdmin","status","decoded","username","roles","UserInfo","includes"],"sources":["/Users/shreyjain/Desktop/Learning/Ticket Manager/frontend/src/hooks/useAuth.js"],"sourcesContent":["import { useSelector } from 'react-redux'\nimport { selectCurrentToken } from \"../features/auth/authSlice\"\nimport {jwtDecode} from 'jwt-decode'\n\nconst useAuth = () => {\n    const token = useSelector(selectCurrentToken)\n    let isManager = false\n    let isAdmin = false\n    let status = \"Employee\"\n\n    if (token) {\n        const decoded = jwtDecode(token)\n        const { username, roles } = decoded.UserInfo\n\n        isManager = roles.includes('Manager')\n        isAdmin = roles.includes('Admin')\n\n        if (isManager) status = \"Manager\"\n        if (isAdmin) status = \"Admin\"\n\n        return { username, roles, status, isManager, isAdmin }\n    }\n\n    return { username: '', roles: [], isManager, isAdmin, status }\n}\nexport default useAuth"],"mappings":";AAAA,SAASA,WAAW,QAAQ,aAAa;AACzC,SAASC,kBAAkB,QAAQ,4BAA4B;AAC/D,SAAQC,SAAS,QAAO,YAAY;AAEpC,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAMC,KAAK,GAAGL,WAAW,CAACC,kBAAkB,CAAC;EAC7C,IAAIK,SAAS,GAAG,KAAK;EACrB,IAAIC,OAAO,GAAG,KAAK;EACnB,IAAIC,MAAM,GAAG,UAAU;EAEvB,IAAIH,KAAK,EAAE;IACP,MAAMI,OAAO,GAAGP,SAAS,CAACG,KAAK,CAAC;IAChC,MAAM;MAAEK,QAAQ;MAAEC;IAAM,CAAC,GAAGF,OAAO,CAACG,QAAQ;IAE5CN,SAAS,GAAGK,KAAK,CAACE,QAAQ,CAAC,SAAS,CAAC;IACrCN,OAAO,GAAGI,KAAK,CAACE,QAAQ,CAAC,OAAO,CAAC;IAEjC,IAAIP,SAAS,EAAEE,MAAM,GAAG,SAAS;IACjC,IAAID,OAAO,EAAEC,MAAM,GAAG,OAAO;IAE7B,OAAO;MAAEE,QAAQ;MAAEC,KAAK;MAAEH,MAAM;MAAEF,SAAS;MAAEC;IAAQ,CAAC;EAC1D;EAEA,OAAO;IAAEG,QAAQ,EAAE,EAAE;IAAEC,KAAK,EAAE,EAAE;IAAEL,SAAS;IAAEC,OAAO;IAAEC;EAAO,CAAC;AAClE,CAAC;AAAAJ,EAAA,CApBKD,OAAO;EAAA,QACKH,WAAW;AAAA;AAoB7B,eAAeG,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}